<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>S.R.S. 日本語</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <header>
      <h1><a href="index.html">S.R.S. 日本語</a></h1>
    </header>

    <article>
      <p>
        <button class="big" onclick="window.location='quiz.html'">Begin Review</button>
      </p>
      <p>
        Level: <span id="level"></span><button id="levelup">Level Up!</button>
      </p>
      <p>
        Unlocked phrases: <span id="unlocked"></span>
      </p>
      <p>
        Available for review: <span id="available"></span>
      </p>
      <p>
        Percent of your level's phrases learned to the Guru level: <span id="percent"></span>
      </p>
      <table>
        <tr>
          <th>
            Status
          </th>
          <th>
            Phrases
          </th>
        </tr>
        <tr>
          <th>
            Apprentice
          </th>
          <td>
            <ul id="apprentice"></ul>
          </td>
        </tr>
        <tr>
          <th>
            Guru
          </th>
          <td>
            <ul id="guru"></ul>
          </td>
        </tr>
        <tr>
          <th>
            Master
          </th>
          <td>
            <ul id="master"></ul>
          </td>
        </tr>
        <tr>
          <th>
            Enlightened
          </th>
          <td>
            <ul id="enlightened"></ul>
          </td>
        </tr>
        <tr>
          <th>
            Burned
          </th>
          <td>
            <ul id="burned"></ul>
          </td>
        </tr>
      </table>
    </article>

    <footer>
      <button id="reset">Delete All Personal Data</button>

      This site doesn't use cookies, but it does use local browser storage.
    </footer>
  </body>
  <link rel="stylesheet" type="text/css" href="style.css">
  <script src="lib/js-yaml.min.js"></script>
  <script src="lib/wanakana.min.js"></script>
  <script src="srs.js"></script>
  <script>
    srs.load().then(() => {
        const levelSpan = document.getElementById('level');
        srs.displayScore({
            'level': levelSpan,
            'unlocked': document.getElementById('unlocked'),
            'available': document.getElementById('available'),
            'percent': document.getElementById('percent'),
            'apprentice': document.getElementById('apprentice'),
            'guru': document.getElementById('guru'),
            'master': document.getElementById('master'),
            'enlightened': document.getElementById('enlightened'),
            'burned': document.getElementById('burned'),
        });
        document.getElementById('levelup').addEventListener('click', () => {
            srs.levelUp();
            location.reload();
        });
    });
  </script>
</html>
